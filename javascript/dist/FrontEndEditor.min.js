/*
 *  Silverstripe front end admin  - v0.1
 *  Front end admin for Silverstripe
 *  
 *
 *  Made by Corey Sewell - Guru Digital Media
 *  Under BSD-3-Clause License
 */
!function(a){if(-1!==a("title").text().search("<")){var b=a(a("title").text());a("title").html(b.text())}a(function(){function b(b){var c="",d=a(b.getElement()),e={fefield:d.data("fefield"),feid:d.data("feid"),feclass:d.data("feclass"),value:b.getContent()};d.data("originalContent",b.getContent()),c=a(e.value),c.find(".ss-htmleditorfield-file.embed").each(function(){var b=a(this),c="[embed width='"+b.attr("width")+"' height='"+b.attr("height")+"' class='"+b.data("cssclass")+"' thumbnail='"+b.data("thumbnail")+"']"+b.data("url")+"[/embed]";b.replaceWith(c)}),e.value=a("<div />").append(c).html(),b.getBody().setAttribute("contenteditable","false"),a.post(frontEndAdmin.baseHref+"home/fesave",e,function(a){b.getBody().setAttribute("contenteditable","true"),b.setContent(a)})}frontEndAdmin.tinymceDefaults={plugins:["save advlist autolink lists image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor  nonbreaking SSFEButtons"],toolbar1:"save undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | ssfeLink ssfeimage",toolbar2:"print preview media | forecolor backcolor emoticons",contextmenu:"ssfeLink ssfeimage inserttable | cell row column deletetable",inline:!0,image_advtab:!0,remove_script_host:!0,convert_urls:!0,relative_urls:!0,document_base_url:frontEndAdmin.baseHref,extended_valid_elements:"-p[style|class]",save_enablewhendirty:!1,save_onsavecallback:b},frontEndAdmin.tinymceVarCharDefaults={plugins:["save "],toolbar1:"save cancel undo redo ",menubar:!1,statusbar:!1,toolbar_items_size:"small",inline:!0,save_enablewhendirty:!1,save_onsavecallback:b},a(".frontend-editable-varchar").tinymce(frontEndAdmin.tinymceVarCharDefaults),a(".frontend-editable-html").tinymce(frontEndAdmin.tinymceDefaults)})}(jQuery);